/* src/pages/SummarizerPage.css */

.summarizer-container {
  max-width: 900px;
  margin: 0 auto 40px auto;
  padding: 30px;
  background-color: var(--bg-secondary);
  border-radius: 8px;
  border: 1px solid var(--border-primary);
}

.summarizer-form {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
}

.summarizer-input {
  flex-grow: 1;
  padding: 12px 15px;
  font-size: 1rem;
  background-color: var(--bg-primary);
  border: 1px solid var(--border-secondary);
  color: var(--text-primary);
  border-radius: 4px;
}

.summarizer-button {
  padding: 12px 20px;
  font-size: 1rem;
  font-weight: 600;
  background-color: var(--accent-vscode);
  color: var(--text-white);
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.summarizer-button:hover:not(:disabled) {
  background-color: var(--accent-vscode-hover);
}

.summarizer-button:disabled {
  background-color: var(--bg-disabled);
  cursor: not-allowed;
}

.summary-status-message {
  text-align: center;
  font-size: 1.1rem;
  color: var(--text-muted);
  margin-top: 20px;
}

.summary-results-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* --- BỐ CỤC CARD --- */
.summary-item-card {
  display: flex;
  flex-direction: column; /* Xếp chồng (Thumbnail -> Content) */
  align-items: center;     /* Căn giữa theo chiều ngang */
  gap: 20px;
  padding: 20px;
  background-color: var(--bg-surface-1);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
}

/* --- KÍCH THƯỚC THUMBNAIL --- */
.summary-item-thumbnail {
  width: 100%;             /* Chiếm 100% chiều rộng card */
  max-width: 640px;       /* Nhưng không rộng quá 640px */
  height: auto;           /* Để aspect-ratio quyết định */
  aspect-ratio: 16 / 9;   /* Giữ tỷ lệ 16:9 */
  object-fit: cover;
  border-radius: 4px;
  border: 1px solid var(--border-secondary);
}

/* --- VÙNG NỘI DUNG --- */
.summary-item-content {
  text-align: center; /* Căn giữa Title */
  width: 100%;      /* Chiếm 100% chiều rộng */
  flex: 1;
  min-width: 0;
}

/* --- TIÊU ĐỀ (TITLE) --- */
.summary-item-title {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 1.1rem;
  white-space: normal;   /* Cho phép title xuống dòng */
  word-wrap: break-word; /* Ngắt chữ nếu quá dài */
}

.summary-item-title a {
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 600;
}
.summary-item-title a:hover {
  color: var(--accent-react);
}

/* --- ĐOẠN TÓM TẮT (SUMMARY) --- */
.summary-item-text {
  background-color: var(--bg-primary);
  padding: 15px;
  border-radius: 4px;
  color: var(--text-primary);
  font-family: inherit;
  font-size: 0.95rem;
  line-height: 1.6;
  /* white-space: pre-wrap; */ /* <-- ĐÃ XÓA */
  word-wrap: break-word;
  text-align: left; 
}

/* --- Định dạng cho các đoạn văn <p> bên trong --- */
.summary-item-text p {
  margin: 0 0 1em 0; /* Tạo khoảng cách 1em (1 dòng) BÊN DƯỚI mỗi đoạn */
}

.summary-item-text p:last-child {
  margin-bottom: 0; /* Đoạn cuối cùng không cần khoảng cách dưới */
}

.summary-item-text strong {
  color: var(--text-primary); /* Đảm bảo chữ in đậm có màu */
  font-weight: 600;
}

/* --- MEDIA QUERY --- */
@media (max-width: 600px) {
  .summarizer-form {
    flex-direction: column;
  }
  .summarizer-container {
    padding: 20px;
  }
}

/* === THÊM MỚI: STYLE CHO PHẦN LỊCH SỬ === */

/* --- Khung Lịch Sử --- */
.history-container {
  max-width: 900px;
  margin: 40px auto; /* Tách biệt với khung tóm tắt */
  padding: 0 10px; /* Thêm padding nhỏ cho di động */
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.section-title-small {
  font-size: 1.5rem;
  font-weight: 600;
  margin: 0;
  color: var(--text-primary); /* Đảm bảo màu chữ */
}

.history-clear-button {
  background: none;
  border: 1px solid var(--border-secondary);
  color: var(--text-muted);
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s;
}

.history-clear-button:hover {
  background-color: var(--bg-surface-1);
  color: var(--text-primary);
  border-color: var(--border-primary);
}

.history-empty-message {
  text-align: center;
  color: var(--text-muted);
  font-size: 1.1rem;
  padding: 20px;
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
}

/* --- Danh Sách Lịch Sử --- */
.history-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.history-item-card {
  display: flex;
  gap: 15px;
  padding: 15px;
  background-color: var(--bg-surface-1);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s;
  overflow: hidden; /* Ngăn title tràn ra ngoài */
  position: relative; /* Dùng cho nút Xóa */
}

.history-item-card:hover {
  background-color: var(--bg-surface-1-hover);
}

.history-item-thumbnail {
  width: 120px;
  height: 67.5px; /* Tỷ lệ 16:9 */
  object-fit: cover;
  border-radius: 4px;
  border: 1px solid var(--border-secondary);
  flex-shrink: 0; /* Không co lại */
}

.history-item-content {
  flex: 1;
  text-align: left;
  min-width: 0; /* Cho phép ngắt dòng title */
}

.history-item-title {
  margin: 0 0 5px 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
  
  /* Ngắt dòng title nếu quá dài */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  
  /* Tạo không gian cho nút Xóa */
  padding-right: 25px; 
}

.history-item-date {
  margin: 0;
  font-size: 0.85rem;
  color: var(--text-muted);
}

/* --- Nút Xóa 1 Item --- */
.history-item-delete {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  
  background: none;
  border: none;
  color: var(--text-muted);
  
  font-size: 1.5rem;
  line-height: 1;
  text-align: center;
  
  cursor: pointer;
  opacity: 0.5;
  transition: all 0.2s;
}

.history-item-card:hover .history-item-delete {
  opacity: 1; /* Hiện rõ khi hover vào card */
}

.history-item-delete:hover {
  color: var(--accent-react); /* Đổi màu khi hover vào nút */
  transform: scale(1.1);
}